@page "/admin/category"
@{
    Layout = null;
}
@await Html.PartialAsync("_HeaderAdmin")
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">



<div class="container">
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#category-create">
  New category
</button>


    <table class="table table-bordered table-striped dt-responsive nowrap">
        <thead>
            <th>Id</th>
            <th>CategoryName</th>
            <th>Description</th>
            <th>Actions</th>
        </thead>
        <tbody id="listCategory"> 

        </tbody>
    </table>
</div>


<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div class="toast add-category" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
    <div class="toast-header bg-primary">
        <strong class="me-auto">System</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
        Add category successfully
    </div>
  </div>

  <div class="toast edit-category" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
    <div class="toast-header bg-primary">
        <strong class="me-auto">System</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
        Edit category successfully
    </div>
  </div>

  <div class="toast delete-category" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
    <div class="toast-header bg-primary">
        <strong class="me-auto">System</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
        Delete category successfully
    </div>
  </div>
</div>


<!-- Create category -->
<div class="modal fade" id="category-create" tabindex="-1" aria-labelledby="category-create-label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="category-create-label">New category</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="category-createForm">
            <label>Name</label>
            <input class="form-control" id="category-create-name" />
            <label>Description</label>
            <input class="form-control" id="category-create-description" />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="addNewCategory()">Add</button>
      </div>
    </div>
  </div>
</div>

<!-- Edit category -->
<div class="modal fade" id="category-edit" tabindex="-1" aria-labelledby="category-edit-label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="category-edit-label">New category</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="category-createForm">
            <label>Id</label>
            <input class="form-control" id="category-edit-id" disabled/>
            <label>Name</label>
            <input class="form-control" id="category-edit-name" />
            <label>Description</label>
            <input class="form-control" id="category-edit-description" />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="updateCategory()">Save</button>
      </div>
    </div>
  </div>
</div>



<script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/admin/category.js"></script>